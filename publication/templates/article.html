<div class="container" bindonce="record" ng-cloak ng-show="showRecord">
  <meta property="og:title" content="{{::record.title}}" />
  <meta property="og:type" content="article" />
  <meta property="og:url" content="{{::record.url}}" />

  <div class="ne-publication">
    <div class="row">
      <div class="col-xs-12 col-sm-7" ng-cloak>

        <div class="row">
          <div class="col-xs-12">
            <div class="ne-publication__header">
              <h3 class="wui-super-header">Article</h3>

              <h2 class="wui-content-title wui-content-title--ne-publication">{{::record.title}}</h2>

              <div class="wui-descriptor">
              <span ng-repeat="author in record.authors | limitTo : authorsLimit track by $index">
                {{::author}}
                <span class="ne-bullet" ng-show="!$last">&bull;</span>
              </span>
              </div>

              <div ng-cloak class="wui-descriptor wui-descriptor--uppercase">
                <div class="ne-publication__metadata">
                  {{::record.source}}
                </div>

                <div class="ne-publication__metadata" ng-show="record.volume != null">
                  <span>Vol:</span>
                  <span>{{::record.volume[0]}}</span>
                </div>

                <div class="ne-publication__metadata" ng-show="record.issue != null">
                  <span>Issue:</span>
                  <span>{{::record.issue[0]}}</span>
                </div>

                <div class="ne-publication__metadata" ng-show="record.pages != null">
                  <span>Pages:</span>
                  <span>{{::record.pages[0]}}</span>
                </div>

                <div class="ne-publication__metadata" ng-show="record.pubDate != null">
                  <span>Published:</span>
                  <span>{{::record.pubDate[0]}}</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-xs-12">
            <div ng-show='record.abstract.length !== 0'>
              <h3 class="wui-subtitle wui-subtitle--publication-abstract">Abstract</h3>

              <p class="ne-publication__body wui-large-text wui-large-text--serif">{{::record.abstract}}</p>
            </div>

            <a
                class="wui-btn wui-btn--secondary wui-btn--view-in-wos"
                target="_blank"
                ng-href="{{WosURL}}"
                ng-hide="WosURL === undefined"
                data-analytics-event data-event-action="{{::id}}" data-event-category="wos-ck-fulldetails"
              >View in Web of Science</a>
          </div>
        </div>
      </div>

      <div class="col-xs-12 col-sm-5 col-md-4 col-md-offset-1">
        <div class="ne-publication-sidebar">

          <div class="row">
            <div class="col-xs-12">
              <div class="ne-publication-sidebar__social-share">
                <button
                  analytics-event
                  class="share-btn share-btn--large pull-left"
                  event-category="share-google-plus-wos"
                  event-action="{{::id}}"
                  social-gplus
                  tooltip="Share on Google+"
                  tooltip-placement="bottom">
                  <i class="fa fa-google-plus share-menu-icon"></i></button>

                <button facebook-share
                        analytics-event
                        event-category="share-facebook-wos"
                        event-action="{{::id}}"
                        link="{{record.url}}"
                        name="{{record.title}}"
                        caption="{{record.source}}"
                        description="{{record.abstract}}">
                </button>

                <button
                  analytics-event
                  class="share-btn share-btn--large pull-left"
                  event-category="share-twitter-wos"
                  event-action="{{::id}}"
                  social-twitter
                  status="{{record.title | ellipsis:80:true:'...'}} - {{record.url}}"
                  tooltip="Share on Twitter"
                  tooltip-placement="bottom">
                  <i class="fa fa-twitter share-menu-icon"></i>
                </button>

                <button linkedin-share
                        analytics-event
                        event-category="share-linkedin-wos"
                        event-action="{{::id}}"
                        link="{{record.url}}"
                        picture="https://d3rm6si6l6yzgk.cloudfront.net/1p-frontend/neon-social-share-banner.jpg"
                        name="{{record.title}}"
                        description="{{record.abstract}}">
                </button>
              </div>

              <div class="ne-publication-sidebar__actions">
                <ne-watch-directive
                  publication-id="{{::id}}"
                  type="{{::record.type}}">
                </ne-watch-directive>
              </div>

              <div class="ne-publication-sidebar__metrics">
                <div class="wui-metric wui-metric--ne-publication-sidebar" ng-show="viewCount">
                  <span class="wui-metric__value">{{viewCount | number}}</span>
                  <span class="wui-metric__label">Views</span>
                </div>

                <div class="wui-icon-metric wui-metric--ne-publication-sidebar">
                  <i class="wui-icon-metric__icon fa fa-comment-o"></i>
                  <span class="wui-icon-metric__value">{{commentCount}}</span>
                  <span class="wui-icon-metric__label">Comments</span>
                </div>

                <div class="wui-icon-metric wui-metric--ne-publication-sidebar">
                  <i class="wui-icon-metric__icon wui-icon wui-icon--times-cited"></i>
                  <span class="wui-icon-metric__value">{{::record.citedcount}}</span>
                  <span class="wui-icon-metric__label">Times Cited</span>
                </div>

                <div class="wui-metric wui-metric--ne-publication-sidebar">
                  <span class="wui-metric__value">{{::record.referenceCount}}</span>
                  <span class="wui-metric__label">Cited References</span>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-xs-12 col-sm-7">
        <div class="ne-publication__comment-list">
          <ng-include src="'/modules/components/comment/templates/comment-list.html'"></ng-include>
        </div>
      </div>
    </div>
  </div>

</div>
